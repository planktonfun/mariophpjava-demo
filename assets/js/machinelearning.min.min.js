!function b(r,e,c){function d(g,k){if(!e[g]){if(!r[g]){var l="function"==typeof require&&require;if(!k&&l)return l(g,!0);if(f)return f(g,!0);throw Error("Cannot find module '"+g+"'");}l=e[g]={exports:{}};r[g][0].call(l.exports,function(c){var e=r[g][1][c];return d(e?e:c)},l,l.exports,b,r,e,c)}return e[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)d(c[g]);return d}({1:[function(q,r){!function(e){function c(c){this.col="undefined"==typeof c.col?-1:c.col;this.value=c.value;
this.results=c.results;this.tb=c.tb;this.fb=c.fb}function d(c,e){if("undefined"==typeof c.tb.results&&d(c.tb,e),"undefined"==typeof c.fb.results&&d(c.fb,e),"undefined"!=typeof c.tb.results&&"undefined"!=typeof c.fb.results){var f=[],g=[],h=[];Object.keys(c.tb.results).forEach(function(d){for(var e=0;e<c.tb.results[d];e++)f.push([d]),h.push([d])});Object.keys(c.fb.results).forEach(function(d){for(var e=0;e<c.fb.results[d];e++)g.push([d]),h.push([d])});var n=1*f.length/h.length,n=k(h)-n*k(f)-(1-n)*
k(g);e>n&&(c.tb=void 0,c.fb=void 0,c.results=l(h))}}function f(c,d){if("undefined"!=typeof d.results)return d.results;var e,g=c[d.col];return e=s.isNumber(g)?g>=d.value?d.tb:d.fb:g===d.value?d.tb:d.fb,f(c,e)}function g(c,d){d=d||"";"undefined"!=typeof c.results?console.log(c.results):(console.log(c.col+":"+c.value+"? "),e.stdout.write(d+"T->"),g(c.tb,d+"  "),e.stdout.write(d+"F->"),g(c.fb,d+"  "))}function h(d,e){if(0==d.length)return new c;var f,g,k,s,q=e(d),r=0,A=d[0].length-1;for(k=0;A>k;k++){var w=
{};for(s=0;s<d.length;s++)w[d[s][k]]=1;w=Object.keys(w);for(s=0;s<w.length;s++){var x=n(d,k,w[s]),y=1*x[0].length/d.length,y=q-y*e(x[0])-(1-y)*e(x[1]);y>r&&0<x[0].length&&0<x[1].length&&(r=y,f=[k,w[s]],g=x)}}return 0<r?(k=h(g[0],e),g=h(g[1],e),new c({col:f[0],value:f[1],tb:k,fb:g})):new c({results:l(d)})}function k(c){var d,e=l(c),f=0,g=Object.keys(e);for(d=0;d<g.length;d++)var h=1*e[g[d]]/c.length,f=f-1*h*(Math.log(h)/Math.log(2));return f}function l(c){var d,e={};for(d=0;d<c.length;d++){var f=c[d][c[d].length-
1];"undefined"==typeof e[f]&&(e[f]=0);e[f]++}return e}function n(c,d,e){var f;f=s.isNumber(e)?function(c){return c[d]>=e}:function(c){return c[d]===e};var g,h=[],k=[];for(g=0;g<c.length;g++)f(c[g])?h.push(c[g]):k.push(c[g]);return[h,k]}var s=q("./utils");s.math;c.prototype.print=function(){g(this,"")};DecisionTree=r.exports=function(c){this.data=c.data;this.result=c.result};DecisionTree.prototype.build=function(){var c,d=[];for(c=0;c<this.data.length;c++)d.push(this.data[c]),d[c].push(this.result[c]);
return this.tree=h(d,k),this.tree};DecisionTree.prototype.print=function(){g(this.tree,"")};DecisionTree.prototype.classify=function(c){return f(c,this.tree)};DecisionTree.prototype.prune=function(c){d(this.tree,c)};DecisionTree.prototype.getTree=function(){return this.tree}}.call(this,q("0NpzKc"))},{"./utils":12,"0NpzKc":13}],2:[function(q,r){var e=q("./utils").math;HiddenLayer=r.exports=function(c){if(this.input=c.input,"undefined"==typeof c.W){var d=1/c.n_in;c.W=e.randMat(c.n_in,c.n_out,-d,d)}"undefined"==
typeof c.b&&(c.b=e.zeroVec(c.n_out));"undefined"==typeof c.activation&&(c.activation=e.sigmoid);this.W=c.W;this.b=c.b;this.activation=c.activation};HiddenLayer.prototype.output=function(c){"undefined"!=typeof c&&(this.input=c);c=e.addMatVec(e.mulMat(this.input,this.W),this.b);return e.activateMat(c,this.activation)};HiddenLayer.prototype.linearOutput=function(c){"undefined"!=typeof c&&(this.input=c);return e.addMatVec(e.mulMat(this.input,this.W),this.b)};HiddenLayer.prototype.backPropagate=function(c){if("undefined"==
typeof c)throw Error("No BackPropagation Input.");return e.mulMat(c,m.transpose(this.W))};HiddenLayer.prototype.sampleHgivenV=function(c){"undefined"!=typeof c&&(this.input=c);c=this.output();return e.probToBinaryMat(c)}},{"./utils":12}],3:[function(q,r){var e=q("./utils").math;LogisticRegression=r.exports=function(c){this.x=c.input;this.y=c.label;this.W=e.zeroMat(c.n_in,c.n_out);this.b=e.zeroVec(c.n_out);this.settings={"log level":1}};LogisticRegression.prototype.train=function(c){var d=0.1,f=200;
"undefined"!=typeof c.input&&(this.x=c.input);"undefined"!=typeof c.lr&&(d=c.lr);"undefined"!=typeof c.epochs&&(f=c.epochs);var g=1;for(c=0;f>c;c++){var h=e.softmaxMat(e.addMatVec(e.mulMat(this.x,this.W),this.b)),k=e.minusMat(this.y,h),h=e.mulMat(e.transpose(this.x),k),k=e.meanMatAxis(k,0);if(this.W=e.addMat(this.W,e.mulMatScalar(h,d)),this.b=e.addVec(this.b,e.mulVecScalar(k,d)),0<this.settings["log level"])h=1*c/f*100,h>g&&(console.log("LogisticRegression",h.toFixed(0),"% Completed."),g++)}0<this.settings["log level"]&&
console.log("LogisticRegression Final Cross Entropy : ",this.getReconstructionCrossEntropy())};LogisticRegression.prototype.getReconstructionCrossEntropy=function(){var c=e.softmaxMat(e.addMatVec(e.mulMat(this.x,this.W),this.b)),d=e.mulMatElementWise(this.y,e.activateMat(c,Math.log)),c=e.mulMatElementWise(e.mulMatScalar(e.addMatScalar(this.y,-1),-1),e.activateMat(e.mulMatScalar(e.addMatScalar(c,-1),-1),Math.log));return-e.meanVec(e.sumMatAxis(e.addMat(d,c),1))};LogisticRegression.prototype.predict=
function(c){return e.softmaxMat(e.addMatVec(e.mulMat(c,this.W),this.b))};LogisticRegression.prototype.set=function(c,d){this.settings[c]=d}},{"./utils":12}],4:[function(q,r){var e=q("./utils").math;Kmeans=r.exports;Kmeans.cluster=function(c){var d,f=c.data,g=c.k,h;h=c.distance;h="undefined"==typeof h?e.euclidean:"function"==typeof h?h:"euclidean"===h.type?e.euclidean:"pearson"===h.type?e.pearson:void 0;c=c.epochs;var k,l,n,s,p=[];l=e.range(f.length);l=e.shuffle(l);for(k=0;g>k;k++)p.push(f[l[k]]);
d=[];for(l=0;g>l;l++)d.push([]);for(k=0;c>k;k++){d=[];for(l=0;g>l;l++)d.push([]);for(l=0;l<f.length;l++){for(n=s=0;g>n;n++)h(p[n],f[l])<h(p[s],f[l])&&(s=n);d[s].push(l)}for(l=0;g>l;l++){var r=[];for(n=0;n<f[0].length;n++)r.push(0);if(0<d[l].length){for(n=0;n<d[l].length;n++)for(s=0;s<f[0].length;s++)r[s]+=f[d[l][n]][s];for(n=0;n<f[0].length;n++)r[n]/=d[l].length;p[l]=r}}}return{clusters:d,means:p}}},{"./utils":12}],5:[function(q,r){function e(c){return"undefined"==typeof c?function(c){return Math.exp(-1*
c*c/200)}:"function"==typeof c?c:"gaussian"===c.type?function(d){var e=c.sigma;return Math.exp(-1*d*d/(2*e*e))}:"none"===c.type?function(){return 1}:void 0}function c(c){return"undefined"==typeof c?d.euclidean:"function"==typeof c?c:"euclidean"===c.type?d.euclidean:"pearson"===c.type?d.pearson:void 0}var d=q("./utils").math;KNN=r.exports=function(c){this.data=c.data;this.result=c.result};KNN.prototype.predict=function(d){var g=d.x,h=d.k||3,k=e(d.weightf),l=c(d.distance),n=[];for(d=0;d<this.data.length;d++)n.push([l(g,
this.data[d]),d]);n.sort(function(c,d){return c[0]-d[0]});var s=l=0;for(d=0;h>d;d++)var p=n[d][1],g=k(n[d][0]),l=l+g*this.result[p],s=s+g;return l/=s}},{"./utils":12}],6:[function(q,r){ml=r.exports;ml.kmeans=q("./kmeans");ml.KNN=q("./knn");ml.SVM=q("./svm");ml.nmf=q("./nmf");ml.optimize=q("./optimize");ml.MLP=q("./mlp");ml.DecisionTree=q("./DecisionTree");ml.LogisticRegression=q("./LogisticRegression")},{"./DecisionTree":1,"./LogisticRegression":3,"./kmeans":4,"./knn":5,"./mlp":8,"./nmf":9,"./optimize":10,
"./svm":11}],7:[function(q,r){m=r.exports;m.randn=function(){var e,c;do e=2*Math.random()-1,c=2*Math.random()-1,c=e*e+c*c;while(1<=c||0==c);return c=Math.sqrt(-2*Math.log(c)/c),e*c};m.shape=function(e){return[e.length,e[0].length]};m.addVec=function(e,c){if(e.length===c.length){var d,f=[];for(d=0;d<e.length;d++)f.push(e[d]+c[d]);return f}throw Error("Length Error : not same.");};m.minusVec=function(e,c){if(e.length===c.length){var d,f=[];for(d=0;d<e.length;d++)f.push(e[d]-c[d]);return f}throw Error("Length Error : not same.");
};m.addMatScalar=function(e,c){var d,f,g=m.shape(e)[0],h=m.shape(e)[1],k=[];for(d=0;g>d;d++){var l=[];for(f=0;h>f;f++)l.push(e[d][f]+c);k.push(l)}return k};m.addMatVec=function(e,c){if(e[0].length===c.length){var d,f=[];for(d=0;d<e.length;d++)f.push(m.addVec(e[d],c));return f}throw Error("Length Error : not same.");};m.minusMatVec=function(e,c){if(e[0].length===c.length){var d,f=[];for(d=0;d<e.length;d++)f.push(m.minusVec(e[d],c));return f}throw Error("Length Error : not same.");};m.addMat=function(e,
c){if(e.length===c.length&&e[0].length===c[0].length){for(var d=Array(e.length),f=0;f<e.length;f++){d[f]=Array(e[f].length);for(var g=0;g<e[f].length;g++)d[f][g]=e[f][g]+c[f][g]}return d}throw Error("Matrix mismatch.");};m.minusMat=function(e,c){if(e.length===c.length&&e[0].length===c[0].length){for(var d=Array(e.length),f=0;f<e.length;f++){d[f]=Array(e[f].length);for(var g=0;g<e[f].length;g++)d[f][g]=e[f][g]-c[f][g]}return d}throw Error("Matrix mismatch.");};m.transpose=function(e){for(var c=Array(e[0].length),
d=0;d<e[0].length;d++){c[d]=Array(e.length);for(var f=0;f<e.length;f++)c[d][f]=e[f][d]}return c};m.dotVec=function(e,c){if(e.length===c.length){for(var d=0,f=0;f<e.length;f++)d+=e[f]*c[f];return d}throw Error("Vector mismatch");};m.outerVec=function(e,c){var d=m.transpose([e]);return m.mulMat(d,[c])};m.mulVecScalar=function(e,c){var d,f=[];for(d=0;d<e.length;d++)f.push(e[d]*c);return f};m.mulMatScalar=function(e,c){var d,f,g=m.shape(e)[0],h=m.shape(e)[1],k=[];for(d=0;g>d;d++){var l=[];for(f=0;h>f;f++)l.push(e[d][f]*
c);k.push(l)}return k};m.mulMatElementWise=function(e,c){if(e.length===c.length&&e[0].length===c[0].length){for(var d=Array(e.length),f=0;f<e.length;f++)d[f]=Array(e[0].length);for(f=0;f<d.length;f++)for(var g=0;g<d[f].length;g++)d[f][g]=e[f][g]*c[f][g];return d}throw Error("Matrix shape error : not same");};m.mulMat=function(e,c){if(e[0].length===c.length){for(var d=Array(e.length),f=0;f<e.length;f++)d[f]=Array(c[0].length);for(var f=m.transpose(c),g=0;g<d.length;g++)for(var h=0;h<d[g].length;h++)d[g][h]=
m.dotVec(e[g],f[h]);return d}throw Error("Array mismatch");};m.sumVec=function(e){for(var c=0,d=e.length;d--;)c+=e[d];return c};m.sumMat=function(e){for(var c=0,d=e.length;d--;)for(var f=0;f<e[0].length;f++)c+=e[d][f];return c};m.sumMatAxis=function(e,c){if(1===c){var d,f=m.shape(e)[0],g=[];for(d=0;f>d;d++)g.push(m.sumVec(e[d]));return g}return mat_T=m.transpose(e),m.sumMatAxis(mat_T,1)};m.meanVec=function(e){return 1*m.sumVec(e)/e.length};m.meanMat=function(e){var c=e.length,d=e[0].length;return 1*
m.sumMat(e)/(c*d)};m.meanMatAxis=function(e,c){if(1===c){var d,f=m.shape(e)[0],g=[];for(d=0;f>d;d++)g.push(m.meanVec(e[d]));return g}return mat_T=m.transpose(e),m.meanMatAxis(mat_T,1)};m.squareVec=function(e){var c,d=[];for(c=0;c<e.length;c++)d.push(e[c]*e[c]);return d};m.squareMat=function(e){var c,d=[];for(c=0;c<e.length;c++)d.push(m.squareVec(e[c]));return d};m.minVec=function(e){for(var c=e[0],d=e.length;d--;)e[d]<c&&(c=e[d]);return c};m.maxVec=function(e){for(var c=e[0],d=e.length;d--;)e[d]>
c&&(c=e[d]);return c};m.minMat=function(e){for(var c=e[0][0],d=e.length;d--;)for(var f=0;f<e[0].length;f++)e[d][f]<c&&(c=e[d][f]);return c};m.maxMat=function(e){for(var c=e[0][0],d=e.length;d--;)for(var f=0;f<e[0].length;f++)e[d][f]<c&&(c=e[d][f]);return c};m.zeroVec=function(e){for(var c=[];c.length<e;)c.push(0);return c};m.zeroMat=function(e,c){for(var d=[];d.length<e;)d.push(m.zeroVec(c));return d};m.oneVec=function(e){for(var c=[];c.length<e;)c.push(1);return c};m.oneMat=function(e,c){for(var d=
[];d.length<e;)d.push(m.oneVec(c));return d};m.randVec=function(e,c,d){c="undefined"!=typeof c?c:0;d="undefined"!=typeof d?d:1;for(var f=[];f.length<e;)f.push(c+(d-c)*Math.random());return f};m.randMat=function(e,c,d,f){d="undefined"!=typeof d?d:0;f="undefined"!=typeof f?f:1;for(var g=[];g.length<e;)g.push(m.randVec(c,d,f));return g};m.randnVec=function(e,c,d){for(var f=[];f.length<e;)f.push(c+d*m.randn());return f};m.randnMat=function(e,c,d,f){for(var g=[];g.length<e;)g.push(m.randnVec(c,d,f));return g};
m.identity=function(e){for(var c=Array(e),d=0;e>d;d++){c[d]=Array(e);for(var f=0;e>f;f++)c[d][f]=d===f?1:0}return c};m.sigmoid=function(e){e=1/(1+Math.exp(-e));return 1==e?e=0.99999999999999:0==e&&(e=1E-14),e};m.dSigmoid=function(e){return a=m.sigmoid(e),a*(1-a)};m.probToBinaryMat=function(e){var c,d,f=m.shape(e)[0],g=m.shape(e)[1],h=[];for(c=0;f>c;c++){var k=[];for(d=0;g>d;d++)Math.random()<e[c][d]?k.push(1):k.push(0);h.push(k)}return h};m.activateVec=function(e,c){var d,f=[];for(d=0;d<e.length;d++)f.push(c(e[d]));
return f};m.activateMat=function(e,c){var d,f,g=m.shape(e)[0],h=m.shape(e)[1],k=[];for(d=0;g>d;d++){var l=[];for(f=0;h>f;f++)l.push(c(e[d][f]));k.push(l)}return k};m.activateTwoVec=function(e,c,d){if(e.length===c.length){for(var f=Array(e.length),g=0;g<f.length;g++)f[g]=d(e[g],c[g]);return f}throw Error("Matrix shape error : not same");};m.activateTwoMat=function(e,c,d){if(e.length===c.length&&e[0].length===c[0].length){for(var f=Array(e.length),g=0;g<e.length;g++)f[g]=Array(e[0].length);for(g=0;g<
f.length;g++)for(var h=0;h<f[g].length;h++)f[g][h]=d(e[g][h],c[g][h]);return f}throw Error("Matrix shape error : not same");};m.fillVec=function(e,c){for(var d=[];d.length<e;)d.push(c);return d};m.fillMat=function(e,c,d){for(var f=[];f.length<e;){for(var g=[];g.length<c;)g.push(d);f.push(g)}return f};m.softmaxVec=function(e){var c=m.maxVec(e),d=m.activateVec(e,function(d){return Math.exp(d-c)});return m.activateVec(d,function(c){return c/m.sumVec(d)})};m.softmaxMat=function(e){var c,d=[];for(c=0;c<
e.length;c++)d.push(m.softmaxVec(e[c]));return d};m.randInt=function(e,c){var d=Math.random()*(c-e+0.9999)+e;return Math.floor(d)};m.normalizeVec=function(e){var c,d=[],f=0;for(c=0;c<e.length;c++)f+=e[c];for(c=0;c<e.length;c++)d.push(1*e[c]/f);return d};m.euclidean=function(e,c){var d,f=0;for(d=0;d<e.length;d++)var g=e[d]-c[d],f=f+g*g;return Math.sqrt(f)};m.pearson=function(e,c){for(var d=[],f=[],g=[],h=0;h<e.length;h++)d.push(e[h]*c[h]),f.push(e[h]*e[h]),g.push(c[h]*c[h]);for(var k=0,l=0,n=0,s=0,
p=0,h=0;h<e.length;h++)k+=e[h],l+=c[h],n+=d[h],s+=f[h],p+=g[h];d=e.length*n-k*l;k=Math.sqrt((e.length*s-k*k)*(e.length*p-l*l));return d/k};m.getNormVec=function(e){var c,d=0;for(c=0;c<e.length;c++)d+=e[c]*e[c];return Math.sqrt(d)};m.gaussian=function(e,c){return c=c||10,Math.exp(-1*e*e/(2*c*c))};m.meanVecs=function(e){var c,d=m.zeroVec(e[0].length);for(c=0;c<e.length;c++)d=m.addVec(d,e[c]);return m.activateVec(d,function(c){return 1*c/e.length})};m.covarianceVecs=function(e){var c,d=m.zeroMat(e[0].length,
e[0].length),f=m.meanVecs(e);for(c=0;c<e.length;c++)var g=m.minusVec(e[c],f),d=m.addMat(d,m.mulMat(m.transpose([g]),[g]));return m.activateMat(d,function(c){return 1*c/(e.length-1)})};m.shuffle=function(e){for(var c=[],d=0;d<e.length;d++)c.push(e[d]);for(var f,g,d=c.length;d;f=parseInt(Math.random()*d),g=c[--d],c[d]=c[f],c[f]=g);return c};m.range=function(e,c,d){var f=[];"undefined"==typeof d&&(d=1);for("undefined"==typeof c&&(c=e,e=0);c>e;e+=d)f.push(e);return f}},{}],8:[function(q,r){var e=q("./utils").math;
HiddenLayer=q("./HiddenLayer");MLP=r.exports=function(c){this.x=c.input;this.y=c.label;this.sigmoidLayers=[];this.nLayers=c.hidden_layer_sizes.length;this.settings={"log level":1};var d;for(d=0;d<this.nLayers+1;d++){var f,g;f=0==d?c.n_ins:c.hidden_layer_sizes[d-1];g=0==d?this.x:this.sigmoidLayers[this.sigmoidLayers.length-1].sampleHgivenV();f=d==this.nLayers?new HiddenLayer({input:g,n_in:f,n_out:c.n_outs,activation:e.sigmoid,W:"undefined"==typeof c.w_array?void 0:c.w_array[d],b:"undefined"==typeof c.b_array?
void 0:c.b_array[d]}):new HiddenLayer({input:g,n_in:f,n_out:c.hidden_layer_sizes[d],activation:e.sigmoid,W:"undefined"==typeof c.w_array?void 0:c.w_array[d],b:"undefined"==typeof c.b_array?void 0:c.b_array[d]});this.sigmoidLayers.push(f)}};MLP.prototype.train=function(c){var d=this,e=1E3;"undefined"!=typeof c.epochs&&(e=c.epochs);var g=1;for(c=0;e>c;c++){var h,k=[];k.push(d.x);for(h=0;h<d.nLayers+1;h++)k.push(d.sigmoidLayers[h].output(k[h]));var l=Array(d.nLayers+1);l[d.nLayers]=m.mulMatElementWise(m.minusMat(d.y,
k[d.nLayers+1]),m.activateMat(d.sigmoidLayers[d.nLayers].linearOutput(k[d.nLayers]),m.dSigmoid));for(h=d.nLayers-1;0<=h;h--)l[h]=m.mulMatElementWise(d.sigmoidLayers[h+1].backPropagate(l[h+1]),m.activateMat(d.sigmoidLayers[h].linearOutput(k[h]),m.dSigmoid));for(h=0;h<d.nLayers+1;h++){var n=m.activateMat(m.mulMat(m.transpose(k[h]),l[h]),function(c){return 1*c/d.x.length}),s=m.meanMatAxis(l[h],0);d.sigmoidLayers[h].W=m.addMat(d.sigmoidLayers[h].W,n);d.sigmoidLayers[h].b=m.addVec(d.sigmoidLayers[h].b,
s)}0<d.settings["log level"]&&(h=1*c/e*100,h>g&&(console.log("MLP",h.toFixed(0),"% Completed."),g+=8))}0<d.settings["log level"]&&console.log("MLP Final Cross Entropy : ",d.getReconstructionCrossEntropy())};MLP.prototype.getReconstructionCrossEntropy=function(){var c=this.predict(this.x),d=e.activateTwoMat(this.y,c,function(c,d){return c*Math.log(d)}),c=e.activateTwoMat(this.y,c,function(c,d){return(1-c)*Math.log(1-d)});return-e.meanVec(e.sumMatAxis(e.addMat(d,c),1))};MLP.prototype.predict=function(c){for(i=
0;i<this.nLayers+1;i++)c=this.sigmoidLayers[i].output(c);return c};MLP.prototype.set=function(c,d){this.settings[c]=d}},{"./HiddenLayer":2,"./utils":12}],9:[function(q,r){var e=q("./utils").math;nmf=r.exports;nmf.factorize=function(c){var d;d=c.features;var f=c.matrix;c=c.epochs;var g=e.shape(f)[0],h=e.shape(f)[1],g=e.randMat(g,d,0,1),h=e.randMat(d,h,0,1);for(d=0;c>d;d++){e.mulMat(g,h);var k=e.mulMat(e.transpose(g),f),l=e.mulMat(e.mulMat(e.transpose(g),g),h),h=e.activateTwoMat(e.mulMatElementWise(h,
k),l,function(c,d){return c/d}),k=e.mulMat(f,e.transpose(h)),l=e.mulMat(e.mulMat(g,h),e.transpose(h)),g=e.activateTwoMat(e.mulMatElementWise(g,k),l,function(c,d){return c/d})}return[g,h]}},{"./utils":12}],10:[function(q,r){var e=q("./utils").math;optimize=r.exports;optimize.hillclimb=function(c){var d=c.domain,f=c.costf,g=[];for(c=0;c<d.length;c++)g.push(e.randInt(d[c][0],d[c][1]));for(var h,k;;){var l=[];for(c=0;c<d.length;c++)if(g[c]>d[c][0]){k=[];for(h=0;h<d.length;h++)k.push(g[h]);k[c]-=1;l.push(k)}else if(g[c]<
d[c][1]){k=[];for(h=0;h<d.length;h++)k.push(g[h]);k[c]+=1;l.push(k)}k=h=f(g);for(c=0;c<l.length;c++){var n=f(l[c]);k>n&&(k=n,g=l[c])}if(k===h)break}return g};optimize.anneal=function(c){var d,f=c.domain,g=c.costf,h=c.temperature,k=c.cool;c=c.step;var l=[];for(d=0;d<f.length;d++)l.push(e.randInt(f[d][0],f[d][1]));for(;0.1<h;){var n=e.randInt(0,f.length-1),s=e.randInt(-c,c),p=[];for(d=0;d<l.length;d++)p.push(l[d]);p[n]+=s;p[n]<f[n][0]&&(p[n]=f[n][0]);p[n]>f[n][1]&&(p[n]=f[n][1]);d=g(l);n=g(p);s=Math.exp(-1*
(n-d)/h);(d>n||Math.random()<s)&&(l=p);h*=k}return l};optimize.genetic=function(c){function d(c){var d,f=e.randInt(0,k.length-1),g=[];for(d=0;d<k.length;d++)g.push(c[d]);return g[f]+=0.5>Math.random()?1:-1,g[f]<k[f][0]&&(g[f]=k[f][0]),g[f]>k[f][1]&&(g[f]=k[f][1]),g}function f(c,d){var f,g=e.randInt(0,k.length-2),h=[];for(f=0;g>f;f++)h.push(c[f]);for(f=g;f<k.length;f++)h.push(d[f]);return h}function g(c){var d,e=[0];for(d=0;d<c.length;d++)e.push(e[d]+c[d]);c=Math.random();for(d=0;d<e.length;d++)if(c>
e[d]&&c<=e[d+1])return d;return-1}var h,k=c.domain,l=c.costf,n=c.population,s=c.q||0.3,p=c.elite||0.04*n,r=c.epochs||100,q=[];for(c=0;n>c;c++){var t=[];for(h=0;h<k.length;h++)t.push(e.randInt(k[h][0],k[h][1]));q.push(t)}q.sort(function(c,d){return l(c)-l(d)});for(c=0;r>c;c++){n=[];for(h=0;p>h;h++)n.push(q[h]);t=[];for(h=0;h<q.length;h++)t[h]=s*Math.pow(1-s,h);t=e.normalizeVec(t);for(h=0;h<q.length-p;h++){var u=g(t),v=g(t),u=f(q[u],q[v]),u=d(u);n.push(u)}q=n;q.sort(function(c,d){return l(c)-l(d)})}return q[0]}},
{"./utils":12}],11:[function(q,r){function e(d){return"undefined"==typeof d?function(d,e){return Math.exp(-1*Math.pow(c.getNormVec(c.minusVec(d,e)),2)/2)}:"function"==typeof d?d:"gaussian"===d.type?function(e,g){var h=d.sigma;return Math.exp(-1*Math.pow(c.getNormVec(c.minusVec(e,g)),2)/(2*h*h))}:"linear"===d.type?function(d,e){return c.dotVec(d,e)}:"polynomial"===d.type?function(e,g){var h=d.c,k=d.d;return Math.pow(c.dotVec(e,g)+h,k)}:void 0}var c=q("./utils").math;SVM=r.exports=function(c){this.x=
c.x;this.y=c.y};SVM.prototype.train=function(d){var f=d.C||1,g=d.tol||1E-4,h=d.max_passes||20,k=d.alpha_tol||1E-5;this.kernel=e(d.kernel);this.alphas=c.zeroVec(this.x.length);for(var l=this.b=0;h>l;){var n=0;for(d=0;d<this.x.length;d++){var s=this.f(this.x[d])-this.y[d];if(this.y[d]*s<-g&&this.alphas[d]<f||this.y[d]*s>g&&0<this.alphas[d]){var p=c.randInt(0,this.x.length-1);d==p&&(p=(p+1)%this.x.length);var q,r,t=this.f(this.x[p])-this.y[p],u=this.alphas[d],v=this.alphas[p];if(this.y[d]!==this.y[p]?
(q=Math.max(0,this.alphas[p]-this.alphas[d]),r=Math.min(f,f+this.alphas[p]-this.alphas[d])):(q=Math.max(0,this.alphas[p]+this.alphas[d]-f),r=Math.min(f,this.alphas[p]+this.alphas[d])),q!==r){var z=2*this.kernel(this.x[d],this.x[p])-this.kernel(this.x[d],this.x[d])-this.kernel(this.x[p],this.x[p]);0<=z||(this.alphas[p]-=1*this.y[p]*(s-t)/z,this.alphas[p]>r?this.alphas[p]=r:this.alphas[p]<q&&(this.alphas[p]=q),Math.abs(this.alphas[p]-v)<k)||(this.alphas[d]+=this.y[d]*this.y[p]*(v-this.alphas[p]),s=
this.b-s-this.y[d]*(this.alphas[d]-u)*this.kernel(this.x[d],this.x[d])-this.y[p]*(this.alphas[p]-v)*this.kernel(this.x[d],this.x[p]),t=this.b-t-this.y[d]*(this.alphas[d]-u)*this.kernel(this.x[d],this.x[p])-this.y[p]*(this.alphas[p]-v)*this.kernel(this.x[p],this.x[p]),this.b=0<this.alphas[d]&&this.alphas[d]<f?s:0<this.alphas[p]&&this.alphas[p]<f?t:(s+t)/2,n++)}}}0==n?l++:l=0}};SVM.prototype.predict=function(c){return 0<=this.f(c)?1:-1};SVM.prototype.f=function(c){var e,g=0;for(e=0;e<this.x.length;e++)g+=
this.alphas[e]*this.y[e]*this.kernel(this.x[e],c);return g+this.b}},{"./utils":12}],12:[function(q,r){utils=r.exports;utils.math=q("./math");utils.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{"./math":7}],13:[function(q,r){function e(){}var c=r.exports={};c.nextTick=function(){if("undefined"!=typeof window&&window.setImmediate)return function(c){return window.setImmediate(c)};if("undefined"!=typeof window&&window.postMessage&&window.addEventListener){var c=[];return window.addEventListener("message",
function(e){var g=e.source;(g===window||null===g)&&"process-tick"===e.data&&(e.stopPropagation(),0<c.length)&&c.shift()()},!0),function(e){c.push(e);window.postMessage("process-tick","*")}}return function(c){setTimeout(c,0)}}();c.title="browser";c.browser=!0;c.env={};c.argv=[];c.on=e;c.addListener=e;c.once=e;c.off=e;c.removeListener=e;c.removeAllListeners=e;c.emit=e;c.binding=function(){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(){throw Error("process.chdir is not supported");
}},{}]},{},[6]);
