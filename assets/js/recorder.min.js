var limiters=!0,playback=!1,playiteration=0,recordings={};function getMicroseconds(){return Math.floor(1E3*(getMicrotime(!0)-initialTimestamp))}function getMicrotime(a){var b,c;"undefined"!==typeof performance&&performance.now?(b=(performance.now()+performance.timing.navigationStart)/1E3,c=1E6):(b=(Date.now?Date.now():(new Date).getTime())/1E3,c=1E3);return a?b:Math.round((b-(b|0))*c)/c}
var initialTimestamp=getMicrotime(!0),keynames={16:"shift",37:"left",38:"up",39:"right",40:"down"},buttonkeynames={shift:16,left:65,up:32,right:68,down:83},recorded={};document.onkeydown=function(a){a=a||window.event;keypressed=a.keyCode;a=getMicroseconds();recorded[keynames[keypressed]]=!0;recorded.time=a;playback||(recordings[a]=jQuery.extend({},recorded))};
document.onkeyup=function(a){a=a||window.event;keypressed=a.keyCode;a=getMicroseconds();void 0!=keynames[keypressed]&&(recorded[keynames[keypressed]]=!1);recorded.time=a;playback||(recordings[a]=jQuery.extend({},recorded))};
var saveRecordings=function(){localStorage.setItem("recordings",JSON.stringify(recordings))},loadRecordings=function(){return JSON.parse(localStorage.getItem("recordings"))},playBack=function(a){void 0!=recordings[a]&&$.each(recordings[a],function(a,c){void 0!=buttonkeynames[a]&&(c?keydown(buttonkeynames[a]):keyup(buttonkeynames[a]))})},playAll=function(){$.each(recordings,function(a,b){null!=b&&(setTimeout(function(){console.log(a,"play");playBack(a)},a),console.log(a,b))})};
